<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Asian Hate Crimes Visualization</title>

  <link rel="stylesheet" href="style.css" />
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://d3js.org/topojson.v3.min.js"></script>
  <script src="https://unpkg.com/scrollama"></script>
</head>
<body>

<!-- === FULLSCREEN INTRO / HERO SECTION === -->
<section id="intro-hero">
  <div class="intro-content">
    <h1>Understanding Anti-Asian Hate Crimes in America</h1>
    <p>A scrollytelling data visualization exploring the victims, the offenders, and the places where these crimes occur.</p>
    <p class="scroll-hint">Scroll to begin ↓</p>
  </div>
</section>

<!-- === SECTION: Trends and Victim Information === -->
<div id="container">
  <div id="graphic">
    <svg></svg>
  </div>

  <div id="scrolly">
    <div class="stride">
      <div class="step-content">
      <h2>Trends in Anti-Asian Hate Crimes</h2>
      <p>While anti-Asian hate crimes surged during the COVID-19 pandemic, the number has remained elevated even after the pandemic subsided, compared to pre-COVID levels.</p>
    </div></div>
    <div class="stride">
      <div class="step-content">
      <h2>Per Capita Comparison</h2>
      <p>When adjusted for population, recent rates of anti-Asian hate crimes have surpassed those of anti-Hispanic incidents. Though often overlooked, anti-Asian hate crimes are a real and persistent issue.</p>
      </div>
    </div>
    <div class="stride">
      <div class="step-content">
      <h2>Victim Sex Distribution</h2>
      <p>The gender breakdown of victims is similar across major racial and ethnic groups: around 60% of victims are male and approximately 30% are female.</p>
      </div>
    </div>
    <div class="stride">
      <div class="step-content">
      <h2>Victim Age Distribution</h2>
      <p>The age distribution of victims also shows little variation across groups, with individuals in their late teens to mid-30s being the most frequently targeted.</p>
      </div>
    </div>
    <div class="stride">
      <div class="step-content">
      <h2>Where Hate Happens</h2>
      <p>Anti-Asian hate crimes are less likely to occur in residences or schools, and more likely to happen in commercial areas and on roads—highlighting their vulnerability in public spaces.</p>
      </div>
    </div>
    <div class="stride">
      <div class="step-content">
      <h2>Victim-Offender Relationship</h2>
      <p>Asian victims are more frequently targeted by strangers compared to other groups.</p>
      </div>
      </div>
    </div>

  </div>
</div>
  <!-- Message Overlay -->
  <div class="message-overlay" id="message-overlay">
    <span id="message-text"></span>
  </div>

  <!-- ==== SECTION 1: SCROLLING OFFENDER CHARTS ==== -->
    <section id="hero-transition">
        <div class="hero-content">
          <h1>Who’s Behind the Hate? A Look at the Offenders</h1>
          <p>When we talk about hate crimes, it’s often through the lens of the people being targeted. But understanding who’s committing these acts — their age, race, sex, and the kinds of crimes they’re involved in — can tell us just as much about the deeper social patterns fueling anti-Asian violence. This section shifts the focus to the offenders: not to excuse or overanalyze them, but to better understand the context in which these acts happen — and how they might be prevented.
            <span style="font-size: 12px;">April 6, 2021</span>
            <a href="https://www.nytimes.com/2021/03/31/nyregion/brandon-elliot-asian-attack-nyc.html">New York Times</a>
          </p>
        </div>
    </section>

  <!-- ==== SECTION 1: SCROLLING OFFENDER CHARTS ==== -->
  <div id="offender-section">
    <div class="scrolly" id="chartsStory">
      <div class="graphic" id="chartGraphic">
        <div id="chartContainer"></div>
      </div>

      <div class="steps">
        <section class="step offender-step" data-step="1">
          <h2>What Kinds of Hate Crimes Target Asian Communities?</h2>
          <p>Most hate crimes against Asian people are violent — 
            like murders, abduction, or intimidation. In fact, nearly 8 out 
            of 10 anti-Asian incidents in the data are violent in nature. That’s high, 
            but not quite as high as what we see in anti-Hispanic hate crimes. 
            Meanwhile, anti-Black hate crimes have a bigger share of property-related 
            offenses, like vandalism.

            So while violence is the dominant pattern, the specific kinds of hate 
            crimes can vary depending on who’s being targeted. Comparing across groups 
            helps highlight what’s uniquely happening in anti-Asian cases.</p>
        </section>
        <section class="step offender-step" data-step="2">
          <h2>Are Anti-Asian Hate Crimes Mostly Committed by Men?</h2>
          <p>Yes — overwhelmingly so. Just like in other hate crime categories, men are by far the most common offenders in anti-Asian hate crimes. Around 80% of recorded offenders are male.

            But even though this male dominance is consistent across all groups, there are small differences when you zoom in. For example, anti-Black hate crimes have a slightly higher percentage of male offenders, and anti-Hispanic ones a little less. These gaps might seem small, but they’re real — and statistically meaningful — which tells us there’s nuance even within the broader trends.</p>
        </section>
        <section class="step offender-step" data-step="3">
          <h2>Who Are the People Committing Anti-Asian Hate Crimes?</h2>
          <p>Here’s where things get especially revealing: while white offenders make up the largest group behind anti-Asian hate crimes, there’s also a significant number of offenders from other racial backgrounds — including Black and Hispanic individuals.

            That makes anti-Asian hate crimes more racially diverse in terms of who’s committing them, especially compared to anti-Black hate crimes, which are overwhelmingly committed by white offenders. This broader mix speaks to how anti-Asian sentiment can cut across multiple communities — something important to consider when thinking about prevention and education.</p>
        </section>
        <section class="step offender-step" data-step="4">
          <h2>How Old Are the People Committing Anti-Asian Hate Crimes?</h2>
          <p>People who commit anti-Asian hate crimes come from a wide age range — from teenagers to people in their 70s. But the most common age group is people in their 30s. What’s striking is that anti-Asian hate crimes show more spread across older age groups than the other categories do.

            That broader age range suggests anti-Asian bias isn't just a “young hothead” problem. It can surface in different forms and motivations across life stages — which is something worth paying attention to when shaping responses.</p>
        </section>
      </div>
    </div>
  </div>

  <!-- ==== SECTION 2: MAP SCROLL STORY ==== -->
  <div id="map-section">
    <div id="mapContainer">
      <div id="map"></div>
      <div id="legend"></div>
    </div>

    <div class="steps" id="map-steps">
      <section class="step" data-step="5">
        <div class="step-content">
          <h2>Where Anti-Asian Hate Crimes Are Most Common in Total Numbers</h2>
          <p>This map shows the total number of reported anti-Asian hate crime incidents by state. 
            Unsurprisingly, the most populous states like California, New York, and Texas report 
            the highest totals. These raw counts reflect where large Asian populations live — 
            and where hate incidents are most likely to be observed, reported, and recorded. 
            However, this map does not account for differences in population size between states, 
            which can obscure the relative risk faced by individuals.</p>
        </div>
      </section>
      <section class="step" data-step="6">
        <div class="step-content">
          <h2>Where Asian Americans Face the Highest Risk — Per Capita</h2>
          <p>This map adjusts for population size, showing the rate of anti-Asian hate crimes per 
            100,000 Asian residents in each state. Once normalized, a new pattern emerges: 
            less populous states like Maine and Vermont, despite small Asian populations, 
            report some of the highest per capita rates. This shift highlights how small 
            communities can experience disproportionately high levels of hate relative to their size 
            — and how raw totals can hide such vulnerability.</p>
        </div>
      </section>
      <section class="step" data-step="7">
        <div class="step-content">
          <h2>A Closer Look: Maine and Vermont</h2>
          <p>Maine and Vermont stand out not because they have high absolute numbers of anti-Asian hate crimes, but because they have very small Asian populations. In states where just a few thousand Asian residents live, even a handful of hate incidents significantly raise the per capita rate. For example, three or four incidents in a state with 10,000 Asian residents equates to a rate of 30–40 per 100,000 — much higher than ten times that number of incidents in a state with a million residents.

            This elevated per capita rate may reflect a heightened vulnerability in states where Asian Americans are especially visible due to their small numbers. In such environments, cultural isolation and lack of institutional support may intensify both the likelihood of being targeted and the consequences of each incident. At the same time, the high per capita values might also reflect better local reporting or isolated spikes in individual years, which can distort trends when populations are small — making these states important to flag, but also to interpret with care.</p>
        </div>
      </section>
    </div>
  </div>


  <div class="step end">
    <h2>Thank you for exploring.</h2>
    <p>This visualization aims to shed light on the unique patterns of anti-Asian hate crimes and how they differ across contexts. We hope it encourages further understanding and dialogue.</p>
  </div>

  <!-- Shared tooltip -->
  <div id="tooltip" class="tooltip"></div>
  
  <!-- Common Setting -->
  <script src="script.js"></script>

  <!-- Chart Scripts -->
  <script src="charts/1-1_trend.js"></script>
  <script src="charts/1-2_percapita.js"></script>
  <script src="charts/1-3_sex.js"></script>
  <script src="charts/1-4_age.js"></script>
  <script src="charts/1-5_location.js"></script>
  <script src="charts/1-6_relationship.js"></script>
  <script src="charts/chart2.js"></script>
  <script src="charts/chart4.js"></script>
  <script src="charts/chart5.js"></script>
  <script src="charts/chart6.js"></script>
  <script src="charts/chart1.js"></script>

  <!-- Scroll Logic for Offender Charts -->
  <script>
document.addEventListener('DOMContentLoaded', function () {
  const chartContainer = document.getElementById('chartContainer');
  const chartGraphic = document.getElementById('chartGraphic');
  const steps = document.querySelectorAll('.step');
  const heroTransition = document.getElementById('hero-transition');

  // Flag to track whether #hero-transition is in view.
  let heroInView = false;

  // Observer to toggle offender charts based on hero-transition visibility.
  const heroObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      heroInView = entry.isIntersecting;
      if (heroInView) {
        // Hide offender charts when hero is visible.
        chartGraphic.style.display = 'none';
        chartContainer.innerHTML = '';
      }
    });
  }, { threshold: 0.5 }); // Adjust threshold as needed.
  heroObserver.observe(heroTransition);

  // Observer for the .step elements.
  const stepObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const stepNum = +entry.target.dataset.step;
        // Only render charts if the hero section is not visible.
        if (!heroInView) {
          // Render the offender charts during steps 1–4.
          if (stepNum === 1 && window.renderChart2) window.renderChart2('#chartContainer');
          else if (stepNum === 2 && window.renderChart4) window.renderChart4('#chartContainer');
          else if (stepNum === 3 && window.renderChart5) window.renderChart5('#chartContainer');
          else if (stepNum === 4 && window.renderChart6) window.renderChart6('#chartContainer');

          // Show offender chart area only during steps 1–4.
          if (stepNum >= 1 && stepNum <= 4) {
            chartGraphic.style.display = 'flex';
          } else {
            chartGraphic.style.display = 'none';
            chartContainer.innerHTML = '';
          }
        }
      }
    });
  }, { root: null, rootMargin: '-50% 0px -50% 0px', threshold: 0 });

  steps.forEach(step => stepObserver.observe(step));
});
  </script>
  

</body>
</html>
